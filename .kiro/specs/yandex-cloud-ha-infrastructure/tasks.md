# План реализации

- [x] 1. Подготовка проектной структуры и переменных
- пиши на русском
  - Создать структуру файлов Terraform проекта
  - Определить все необходимые переменные в variables.tf
  - Создать пример файла terraform.tfvars
  - _Требования: 1.1, 1.2, 1.3_

- [x] 2. Создание сетевой инфраструктуры
- пиши на русском
  - Реализовать провайдер Yandex Cloud с аутентификацией
  - Создать VPC сеть и подсеть с заданным CIDR
  - Настроить security group с правилами для HTTP и SSH
  - _Требования: 1.1, 1.2, 4.1, 4.2_

- [x] 3. Создание cloud-init скрипта для автоматической установки Nginx
- пиши на русском
  - Написать cloud-init.tpl файл для установки и запуска Nginx
  - Настроить автоматический запуск Nginx при старте системы
  - Протестировать корректность cloud-init конфигурации
  - _Требования: 4.1, 4.2, 4.3_

- [x] 4. Реализация виртуальных машин с использованием count
- пиши на русском
  - Создать ресурс yandex_compute_instance с count аргументом
  - Настроить параметры ВМ (CPU, память, диск, образ Ubuntu 22.04)
  - Интегрировать cloud-init скрипт через metadata
  - Настроить SSH доступ через публичные ключи
  - _Требования: 1.1, 1.2, 1.3, 4.3_

- [x] 5. Создание таргет-группы для балансировщика
- пиши на русском
  - Реализовать yandex_lb_target_group ресурс
  - Использовать dynamic блок для автоматического добавления всех ВМ
  - Настроить привязку к созданной подсети
  - _Требования: 2.1, 2.2, 2.3_

- [x] 6. Настройка сетевого балансировщика нагрузки
- пиши на русском
  - Создать yandex_lb_network_load_balancer ресурс
  - Настроить listener на порту 80
  - Подключить созданную таргет-группу
  - Настроить HTTP health-check на путь "/" порт 80
  - _Требования: 3.1, 3.2, 3.3, 3.4_

- [x] 7. Определение выходных параметров
- пиши на русском
  - Создать outputs.tf с публичным IP балансировщика
  - Добавить вывод внутренних IP адресов ВМ
  - Добавить вывод публичных IP адресов ВМ для отладки
  - _Требования: 5.1, 5.2_

- [x] 8. Инициализация и применение Terraform конфигурации
- пиши на русском
  - Выполнить terraform init для инициализации провайдеров
  - Создать и проверить план выполнения terraform plan
  - Применить конфигурацию terraform apply
  - _Требования: 1.1, 1.2_

- [x] 9. Верификация созданной инфраструктуры в консоли YC
- пиши на русском
  - Проверить статус балансировщика (должен быть Active)
  - Убедиться что обе ВМ в таргет-группе имеют статус healthy
  - Проверить что ВМ находятся в статусе RUNNING
  - _Требования: 1.2, 3.1, 3.2_

- [x] 10. Тестирование HTTP доступности через балансировщик
- пиши на русском
  - Выполнить curl запрос к публичному IP балансировщика
  - Проверить получение HTTP 200 ответа с дефолтной страницей Nginx
  - Протестировать доступ через веб-браузер
  - _Требования: 5.1, 5.3_

- [x] 11. Тестирование отказоустойчивости системы
- пиши на русском
  - Остановить одну из ВМ через yc compute instance stop
  - Проверить что балансировщик продолжает отвечать на запросы
  - Запустить ВМ обратно и убедиться в восстановлении
  - _Требования: 3.4, 5.2_

- [x] 12. Создание документации и финализация проекта
- пиши на русском
  - Создать README.md, который содержит текст домашнего задания из HomeWork файла и описание выолнения каждого задания. 
  - Вывести те команды, которые помогут сделать скриншоты исходя из задания!
  - Проверить, добавлены ли скриншоты в папку screenshots, если нет - дать совет по скриншотам
  - Зафиксировать изменения в Git репозитории
  - _Требования: все требования для демонстрации результата_